var $ddTib$react = require("react");
var $ddTib$reactdom = require("react-dom");
var $ddTib$axios = require("axios");
var $ddTib$fingerprintjsfingerprintjs = require("@fingerprintjs/fingerprintjs");
var $ddTib$styledcomponents = require("styled-components");
var $ddTib$antdesigniconsCloseOutlined = require("@ant-design/icons/CloseOutlined");
var $ddTib$i18next = require("i18next");
var $ddTib$reacti18next = require("react-i18next");
var $ddTib$lscache = require("lscache");
var $ddTib$dayjs = require("dayjs");
var $ddTib$antdesigniconsDeleteTwoTone = require("@ant-design/icons/DeleteTwoTone");
var $ddTib$antdesigniconsHeartFilled = require("@ant-design/icons/HeartFilled");


function $parcel$interopDefault(a) {
  return a && a.__esModule ? a.default : a;
}








const $6ae0d27bced4fdf8$export$915e9e7bd4f0f96d = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  color: #fff;
  font-size: 12px;
  font-weight: 500;
  line-height: 20px;
  border-radius: 4px;
  position: relative;
  background: #e33725;
  margin-bottom: 10px;
  letter-spacing: 0.5px;
  padding: 5px 30px 5px 10px;
`;
const $6ae0d27bced4fdf8$export$f39c2d165cd861fe = (0, ($parcel$interopDefault($ddTib$styledcomponents)))((0, ($parcel$interopDefault($ddTib$antdesigniconsCloseOutlined))))`
  position: absolute;
  right: 12px;
  top: 9px;
`;



const $0a5d6e5164f8cd9a$export$a3de6efb5461e66f = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  width: 100%;
  height: 400px;
`;


const $ddfb67c622f02118$var$RequestContext = /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createContext(undefined);
function $ddfb67c622f02118$export$7fba1a658e28476a() {
    const context = (0, ($parcel$interopDefault($ddTib$react))).useContext($ddfb67c622f02118$var$RequestContext);
    if (context === undefined) throw new Error("useRequest must be used within a RequestProvider");
    return context;
}
function $ddfb67c622f02118$export$2e2bcd8739ae039(props) {
    const [error, setError] = (0, $ddTib$react.useState)("");
    const [loading, setLoading] = (0, $ddTib$react.useState)(true);
    const instance = (0, $ddTib$react.useMemo)(()=>{
        const pageId = `${window.location.hostname}${window.location.pathname}`;
        return (0, ($parcel$interopDefault($ddTib$axios))).create({
            baseURL: "http://localhost:9547/api",
            transformRequest: [
                function(data) {
                    return {
                        ...data,
                        pageId: pageId
                    };
                },
                ...(0, ($parcel$interopDefault($ddTib$axios))).defaults.transformRequest
            ],
            transformResponse: [
                function(data, _headers, status) {
                    if (status !== 200) setError(data || "Something went wrong!");
                    return data;
                },
                ...(0, ($parcel$interopDefault($ddTib$axios))).defaults.transformResponse
            ]
        });
    }, [
        (0, ($parcel$interopDefault($ddTib$axios))),
        props.baseURL
    ]);
    (0, $ddTib$react.useEffect)(()=>{
        if (instance) {
            setLoading(true);
            (0, ($parcel$interopDefault($ddTib$fingerprintjsfingerprintjs))).load().then((fp)=>{
                fp.get().then(({ visitorId: visitorId })=>{
                    instance.defaults.headers["fingerprint"] = visitorId;
                    setLoading(false);
                });
            });
        }
    }, [
        instance
    ]);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement($ddfb67c622f02118$var$RequestContext.Provider, {
        value: instance
    }, error && /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $6ae0d27bced4fdf8$export$915e9e7bd4f0f96d), null, error, " ", /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $6ae0d27bced4fdf8$export$f39c2d165cd861fe), {
        onClick: ()=>setError("")
    })), loading ? /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $0a5d6e5164f8cd9a$export$a3de6efb5461e66f), null) : props.children);
}


const $e00bfa5fa5449734$var$CommentsStateContext = /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createContext(undefined);
const $e00bfa5fa5449734$var$CommentsDispatchContext = /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createContext(undefined);
const $e00bfa5fa5449734$var$initialState = {
    loading: true,
    comments: []
};
const $e00bfa5fa5449734$var$reducer = (state, action)=>{
    switch(action.type){
        case "ADD_COMMENT":
            return {
                ...state,
                comments: [
                    action.payload,
                    ...state.comments
                ]
            };
        case "GET_COMMENTS":
            return {
                ...state,
                loading: false,
                comments: action.payload
            };
        case "REMOVE_COMMENT":
            return {
                ...state,
                comments: state.comments.filter((comment)=>comment._id !== action.payload._id)
            };
        default:
            return state;
    }
};
function $e00bfa5fa5449734$export$2e2bcd8739ae039(props) {
    const request = (0, $ddfb67c622f02118$export$7fba1a658e28476a)();
    const [state, dispatch] = (0, $ddTib$react.useReducer)($e00bfa5fa5449734$var$reducer, {
        ...$e00bfa5fa5449734$var$initialState,
        ...props
    });
    const addComment = (0, $ddTib$react.useCallback)((data)=>{
        return request.post(`/comments`, {
            ...data
        }).then((response)=>dispatch({
                type: "ADD_COMMENT",
                payload: {
                    ...data,
                    ...response.data
                }
            }));
    }, [
        request
    ]);
    const removeComment = (0, $ddTib$react.useCallback)((data)=>{
        return request.delete(`/comments/${data._id}?secret=${data.secret}`).then(()=>dispatch({
                type: "REMOVE_COMMENT",
                payload: data
            }));
    }, [
        request
    ]);
    const getComments = (0, $ddTib$react.useCallback)(()=>{
        const pageId = `${window.location.hostname}${window.location.pathname}`;
        return request.get(`/comments?pageId=${encodeURI(pageId)}`).then((response)=>{
            dispatch({
                type: "GET_COMMENTS",
                payload: response.data
            });
        });
    }, [
        request
    ]);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement($e00bfa5fa5449734$var$CommentsStateContext.Provider, {
        value: state
    }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement($e00bfa5fa5449734$var$CommentsDispatchContext.Provider, {
        value: {
            addComment: addComment,
            getComments: getComments,
            removeComment: removeComment
        }
    }, props.children));
}
function $e00bfa5fa5449734$export$b2cf028eb1693ea1() {
    const context = (0, ($parcel$interopDefault($ddTib$react))).useContext($e00bfa5fa5449734$var$CommentsStateContext);
    if (context === undefined) throw new Error("useCommentsState must be used within a CommentsProvider");
    return context;
}
function $e00bfa5fa5449734$export$4c23cca485d9f39e() {
    const context = (0, ($parcel$interopDefault($ddTib$react))).useContext($e00bfa5fa5449734$var$CommentsDispatchContext);
    if (context === undefined) throw new Error("useCommentsDispatch must be used within a CommentsProvider");
    return context;
}




const $35d472cb9ee642ac$var$ReactionStateContext = /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createContext(undefined);
const $35d472cb9ee642ac$var$ReactionDispatchContext = /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createContext(undefined);
const $35d472cb9ee642ac$var$initialState = {
    loading: true,
    reactions: []
};
const $35d472cb9ee642ac$var$reducer = (state, action)=>{
    switch(action.type){
        case "REACT":
            return {
                ...state,
                reactions: action.payload
            };
        case "GET_REACTIONS":
            return {
                ...state,
                loading: false,
                reactions: action.payload
            };
        default:
            return state;
    }
};
function $35d472cb9ee642ac$export$49a968b2b4de84a1() {
    const context = (0, ($parcel$interopDefault($ddTib$react))).useContext($35d472cb9ee642ac$var$ReactionStateContext);
    if (context === undefined) throw new Error("useReactionState must be used within a ReactionProvider");
    return context;
}
function $35d472cb9ee642ac$export$2acf0ef90df99777() {
    const context = (0, ($parcel$interopDefault($ddTib$react))).useContext($35d472cb9ee642ac$var$ReactionDispatchContext);
    if (context === undefined) throw new Error("useReactionDispatch must be used within a ReactionProvider");
    return context;
}
function $35d472cb9ee642ac$export$2e2bcd8739ae039(props) {
    const request = (0, $ddfb67c622f02118$export$7fba1a658e28476a)();
    const [state, dispatch] = (0, $ddTib$react.useReducer)($35d472cb9ee642ac$var$reducer, {
        ...$35d472cb9ee642ac$var$initialState,
        ...props
    });
    const react = (0, $ddTib$react.useCallback)((reaction)=>{
        return request.post(`/reactions`, {
            reaction: reaction
        }).then((response)=>dispatch({
                type: "REACT",
                payload: response.data
            }));
    }, [
        request
    ]);
    const getReactions = (0, $ddTib$react.useCallback)(()=>{
        const pageId = `${window.location.hostname}${window.location.pathname}`;
        return request.get(`/reactions?pageId=${encodeURI(pageId)}`).then((response)=>dispatch({
                type: "GET_REACTIONS",
                payload: response.data
            }));
    }, [
        request
    ]);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement($35d472cb9ee642ac$var$ReactionStateContext.Provider, {
        value: state
    }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement($35d472cb9ee642ac$var$ReactionDispatchContext.Provider, {
        value: {
            react: react,
            getReactions: getReactions
        }
    }, props.children));
}





var $8160f9170ff01945$exports = {};
$8160f9170ff01945$exports = JSON.parse('{"COMMENTS":"Comments","COMMENT":"Comment","NO_COMMENTS":"Be the first to comment.","COMMENT_PLACEHOLDER":"What do you think?","USERNAME":"Name*","EMAIL":"Email*","POST":"Post","POWERED_BY":"Powered by","LOADING":"Loading..."}');


var $f02c961a99e65d59$exports = {};
$f02c961a99e65d59$exports = JSON.parse('{"COMMENTS":"\u0544\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0582\u0569\u0575\u0578\u0582\u0576","COMMENT":"\u0544\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0582\u0569\u0575\u0578\u0582\u0576","NO_COMMENTS":"\u0535\u0572\u056B\u0580 \u0561\u057C\u0561\u057B\u056B\u0576 \u0574\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0572\u0568","COMMENT_PLACEHOLDER":"\u053B\u055E\u0576\u0579 \u056F\u0561 \u0574\u057F\u0584\u056B\u0564","USERNAME":"\u0531\u0576\u0578\u0582\u0576*","EMAIL":"\u0537\u056C. \u0570\u0561\u057D\u0581\u0565*","POST":"\u0540\u0580\u0561\u057A\u0561\u0580\u0561\u056F\u0565\u056C","POWERED_BY":"\u054A\u0561\u057F\u0580\u0561\u057D\u057F\u0565\u0581\u055D","LOADING":"\u0532\u0565\u057C\u0576\u0578\u0582\u0574..."}');


var $e2160198cbe84258$exports = {};
$e2160198cbe84258$exports = JSON.parse('{"COMMENTS":"\u0544\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0582\u0569\u056B\u0582\u0576","COMMENT":"\u0544\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0582\u0569\u056B\u0582\u0576","NO_COMMENTS":"\u0535\u0572\u056B\u0580 \u0561\u057C\u0561\u057B\u056B\u0576 \u0574\u0565\u056F\u0576\u0561\u0562\u0561\u0576\u0578\u0572\u0568","COMMENT_PLACEHOLDER":"\u053B\u055E\u0576\u0579 \u056F\u0561\u0575 \u0574\u057F\u0584\u056B\u0564","USERNAME":"\u0531\u0576\u0578\u0582\u0576*","EMAIL":"\u0537\u056C. \u0570\u0561\u057D\u0581\u0567*","POST":"\u0540\u0580\u0561\u057A\u0561\u0580\u0561\u056F\u0565\u056C","POWERED_BY":"\u054A\u0561\u057F\u0580\u0561\u057D\u057F\u0565\u0581\u055D","LOADING":"\u0532\u0565\u057C\u0576\u0578\u0582\u0574..."}');


var $eb8f9629d316ec1a$exports = {};
$eb8f9629d316ec1a$exports = JSON.parse('{"COMMENTS":"K\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439","COMMENT":"K\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439","NO_COMMENTS":"\u041F\u0440\u043E\u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043F\u0435\u0440\u0432\u044B\u043C.","COMMENT_PLACEHOLDER":"\u0427\u0442\u043E \u0432\u044B \u0434\u0443\u043C\u0430\u0435\u0442\u0435?","USERNAME":"\u0418\u043C\u044F*","EMAIL":"\u041F\u043E\u0447\u0442\u0430*","POST":"\u041E\u043F\u0443\u0431\u043B\u0438\u043A\u043E\u0432\u0430\u0442\u044C","POWERED_BY":"\u0420\u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u043D\u0430","LOADING":"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430..."}');


var $63396f0c9e23d385$exports = {};
$63396f0c9e23d385$exports = JSON.parse('{"COMMENTS":"\u6761\u8BC4\u8BBA","COMMENT":"\u6761\u8BC4\u8BBA","NO_COMMENTS":"\u6765\u505A\u7B2C\u4E00\u4E2A\u7559\u8A00\u7684\u4EBA\u5427\uFF01","COMMENT_PLACEHOLDER":"\u4F60\u600E\u4E48\u770B\uFF1F","USERNAME":"\u540D\u79F0*","EMAIL":"\u7535\u5B50\u90AE\u4EF6*","POST":"\u53D1\u5E03","POWERED_BY":"\u4F9B\u7535","LOADING":"\u8F7D\u5165\u4E2D..."}');


const $cf1c6f9e2c9d2ede$var$resources = {
    en: {
        translation: (0, (/*@__PURE__*/$parcel$interopDefault($8160f9170ff01945$exports)))
    },
    hy: {
        translation: (0, (/*@__PURE__*/$parcel$interopDefault($f02c961a99e65d59$exports)))
    },
    hyw: {
        translation: (0, (/*@__PURE__*/$parcel$interopDefault($e2160198cbe84258$exports)))
    },
    ru: {
        translation: (0, (/*@__PURE__*/$parcel$interopDefault($eb8f9629d316ec1a$exports)))
    },
    zh: {
        translation: (0, (/*@__PURE__*/$parcel$interopDefault($63396f0c9e23d385$exports)))
    }
};
(0, ($parcel$interopDefault($ddTib$i18next))).use((0, $ddTib$reacti18next.initReactI18next)).init({
    resources: $cf1c6f9e2c9d2ede$var$resources,
    lng: "en",
    fallbackLng: "en",
    keySeparator: false,
    interpolation: {
        escapeValue: false
    }
});
function $cf1c6f9e2c9d2ede$export$2e2bcd8739ae039(props) {
    (0, ($parcel$interopDefault($ddTib$i18next))).changeLanguage(props.language);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ddTib$reacti18next.I18nextProvider), {
        i18n: (0, ($parcel$interopDefault($ddTib$i18next)))
    }, props.children);
}




const $836658198f9e73bc$var$themes = {
    black: {
        textColorSecondary: "#afb0b1",
        buttonBackground: "#56a7e1",
        buttonBackgroundHover: "#3c8cc6",
        inputBackground: "#000",
        borderColor: "#2d2d2d",
        buttonColor: "#fff",
        textColor: "#fff"
    },
    dark: {
        textColorSecondary: "#606984",
        buttonBackground: "#56a7e1",
        buttonBackgroundHover: "#3c8cc6",
        inputBackground: "#282c37",
        borderColor: "#393f4f",
        buttonColor: "#fff",
        textColor: "#fff"
    },
    light: {
        textColorSecondary: "#687a86",
        buttonBackground: "#56a7e1",
        buttonBackgroundHover: "#3c8cc6",
        inputBackground: "#f6f8f9",
        borderColor: "#dbdfe4",
        buttonColor: "#fff",
        textColor: "#2a2e2e"
    }
};
function $836658198f9e73bc$export$2e2bcd8739ae039(props) {
    const theme = $836658198f9e73bc$var$themes[props.theme] || $836658198f9e73bc$var$themes.light;
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ddTib$styledcomponents.ThemeProvider), {
        theme: theme
    }, props.children);
}







const $ef475f90a77ce2db$var$rotate = (0, $ddTib$styledcomponents.keyframes)`
  0% { 
    transform: rotate(0); 
  }
  100% { 
    transform: rotate(360deg); 
  }
`;
const $ef475f90a77ce2db$export$42a852a2b6b56249 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  margin: 0;
  padding: 0;
  font-size: 0;
  appearance: none;
  position: relative;
  border-radius: 4px;
  box-sizing: border-box;
  border: 2px solid ${(props)=>props.theme.borderColor};
`;
const $ef475f90a77ce2db$export$379139ebc1c2b235 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).textarea`
  border: 0;
  margin: 0;
  width: 100%;
  height: auto;
  outline: none;
  font-size: 14px;
  min-width: 100%;
  max-width: 100%;
  min-height: 80px;
  box-shadow: none;
  line-height: 1.4;
  border-radius: 0;
  padding: 8px 10px;
  letter-spacing: 0.7px;
  box-sizing: border-box;
  color: ${(props)=>props.theme.textColor};
  background: ${(props)=>props.theme.inputBackground};
`;
const $ef475f90a77ce2db$export$353f5b6fc5456de1 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).button`
  border: none;
  margin: -2px;
  outline: none;
  font-size: 13px;
  cursor: pointer;
  appearance: none;
  box-shadow: none;
  font-weight: 700;
  min-width: 150px;
  font-weight: 500;
  line-height: 1.1;
  text-shadow: none;
  padding: 12px 25px;
  white-space: nowrap;
  letter-spacing: 0.5px;
  display: inline-block;
  transition: background 0.2s;
  border-radius: 0px 0px 3px 0px;
  color: ${(props)=>props.theme.buttonColor};
  background: ${(props)=>props.theme.buttonBackground};
  &:disabled {
    font-size: 0;
    position: relative;
    &:after {
      top: 26%;
      left: 43%;
      content: '';
      width: 15px;
      height: 15px;
      display: block;
      position: absolute;
      border-radius: 100%;
      animation: ${$ef475f90a77ce2db$var$rotate} 1s linear infinite;
      border: 3px solid ${(props)=>props.theme.buttonColor};
      border-top-color: transparent;
      border-bottom-color: transparent;
    }
  }
`;
const $ef475f90a77ce2db$export$a06f1c675e846f6f = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  height: 36px;
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  border-radius: 0 0 2px 2px;
  transition: opacity linear 0.2s;
  border-top: solid 2px ${(props)=>props.theme.borderColor};
`;
const $ef475f90a77ce2db$export$a7fed597f4b8afd8 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).form`
  font-size: 0;
  line-height: 0;
`;
const $ef475f90a77ce2db$export$f5b8910cec6cf069 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).input`
  flex: 1;
  height: auto;
  border: none;
  padding: 8px;
  outline: none;
  font-size: 13px;
  min-width: 10px;
  box-shadow: none;
  appearance: none;
  border-radius: 0;
  letter-spacing: 0.5px;
  box-sizing: border-box;
  color: ${(props)=>props.theme.textColor};
  background: ${(props)=>props.theme.inputBackground};
  border-right: 2px solid ${(props)=>props.theme.borderColor};
`;



function $7837e1bac463ede7$export$2e2bcd8739ae039() {
    const [body, setBody] = (0, $ddTib$react.useState)("");
    const [loading, setLoading] = (0, $ddTib$react.useState)(false);
    const [name, setName] = (0, $ddTib$react.useState)((0, ($parcel$interopDefault($ddTib$lscache))).get("name") || "");
    const [email, setEmail] = (0, $ddTib$react.useState)((0, ($parcel$interopDefault($ddTib$lscache))).get("email") || "");
    const form = (0, $ddTib$react.useRef)();
    const submit = (0, $ddTib$react.useRef)();
    const { t: t } = (0, $ddTib$reacti18next.useTranslation)();
    const actions = (0, $e00bfa5fa5449734$export$4c23cca485d9f39e)();
    const onValideSubmit = (e)=>{
        e.preventDefault();
        setLoading(true);
        actions.addComment({
            body: body,
            owner: {
                name: name,
                email: email
            },
            pageUrl: window.location.href
        }).then(()=>{
            setBody("");
            setLoading(false);
        }).catch((error)=>{
            setLoading(false);
            return Promise.reject(error);
        });
    };
    const onEnter = (e)=>{
        if (e.keyCode == 13 && (e.metaKey || e.ctrlKey)) submit.current.click();
    };
    (0, $ddTib$react.useLayoutEffect)(()=>{
        form.current.addEventListener("keydown", onEnter);
        return ()=>{
            form.current.removeEventListener("keydown", onEnter);
        };
    }, [
        form.current
    ]);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$42a852a2b6b56249), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$a7fed597f4b8afd8), {
        ref: form,
        onSubmit: onValideSubmit
    }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$379139ebc1c2b235), {
        onChange: (e)=>setBody(e.target.value),
        placeholder: t("COMMENT_PLACEHOLDER"),
        disabled: loading,
        value: body,
        required: true
    }), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$a06f1c675e846f6f), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$f5b8910cec6cf069), {
        onChange: (e)=>{
            setName(e.target.value);
            (0, ($parcel$interopDefault($ddTib$lscache))).set("name", e.target.value);
        },
        placeholder: t("USERNAME"),
        disabled: loading,
        value: name,
        type: "text",
        required: true
    }), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$f5b8910cec6cf069), {
        onChange: (e)=>{
            setEmail(e.target.value);
            (0, ($parcel$interopDefault($ddTib$lscache))).set("email", e.target.value);
        },
        placeholder: t("EMAIL"),
        disabled: loading,
        value: email,
        type: "email",
        required: true
    }), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ef475f90a77ce2db$export$353f5b6fc5456de1), {
        ref: submit,
        type: "submit",
        disabled: loading
    }, t("POST")))));
}








const $8092f168c279c3c3$export$f99233281efd08a0 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  width: 100%;
  line-height: 1;
  font-size: 15px;
  padding: 12px 0;
  font-weight: 700;
  letter-spacing: 0px;
  color: ${(props)=>props.theme.textColor};
  border-bottom: 2px solid ${(props)=>props.theme.borderColor};
`;
const $8092f168c279c3c3$export$bfadae053a633538 = (0, ($parcel$interopDefault($ddTib$styledcomponents)))((0, ($parcel$interopDefault($ddTib$antdesigniconsDeleteTwoTone))))`
  cursor: pointer;
  font-size: 14px;
  margin-left: 10px;
`;
const $8092f168c279c3c3$export$42a852a2b6b56249 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  margin-top: 20px;
`;
const $8092f168c279c3c3$export$54c2e3dc7acea9f5 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  padding: 20px 10px;
`;
const $8092f168c279c3c3$export$6d08773d2e66f8f2 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  clear: both;
  margin-bottom: 24px;
`;
const $8092f168c279c3c3$export$e2255cf6045e8d47 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).img`
  width: 50px;
  float: left;
  height: 50px;
  border-radius: 4px;
  margin-right: 10px;
`;
const $8092f168c279c3c3$export$e93312b7773dfcac = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  display: flex;
  font-size: 8px;
  line-height: 1;
  margin-bottom: 4px;
  align-items: center;
  flex-direction: row;
  color: ${(props)=>props.theme.textColorSecondary};
`;
const $8092f168c279c3c3$export$b80b7c26588e0707 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  font-size: 12px;
  font-weight: 700;
  margin-right: 5px;
  letter-spacing: 0.5px;
  color: ${(props)=>props.theme.textColorSecondary};
`;
const $8092f168c279c3c3$export$4b2c32e08f77ff18 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  font-size: 15px;
  font-weight: 400;
  min-height: 24px;
  line-height: 24px;
  letter-spacing: 0.3px;
  white-space: break-spaces;
  color: ${(props)=>props.theme.textColor};
`;
const $8092f168c279c3c3$export$6341f9a885713487 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).span`
  font-size: 12px;
  font-weight: 500;
  margin-left: 5px;
  letter-spacing: 0px;
  text-decoration: none;
  color: ${(props)=>props.theme.textColorSecondary};
`;
const $8092f168c279c3c3$export$f1fa434e5dfb6ce5 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  opacity: 0.6;
  width: 100%;
  display: flex;
  height: 200px;
  font-size: 15px;
  font-weight: 400;
  align-items: center;
  letter-spacing: 0px;
  justify-content: center;
  color: ${(props)=>props.theme.textColor};
`;


function $9f2ec6a7e39a8adc$export$2e2bcd8739ae039() {
    const state = (0, $e00bfa5fa5449734$export$b2cf028eb1693ea1)();
    const actions = (0, $e00bfa5fa5449734$export$4c23cca485d9f39e)();
    const { t: t } = (0, $ddTib$reacti18next.useTranslation)();
    (0, $ddTib$react.useEffect)(()=>actions.getComments(), []);
    if (state.loading) return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$f1fa434e5dfb6ce5), null, t("LOADING"));
    if (state.comments.length == 0) return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$f1fa434e5dfb6ce5), null, t("NO_COMMENTS"));
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$42a852a2b6b56249), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$f99233281efd08a0), null, state.comments.length, " ", state.comments.length > 1 ? t("COMMENTS") : t("COMMENT")), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$54c2e3dc7acea9f5), null, state.comments.map((comment)=>/*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$6d08773d2e66f8f2), {
            key: comment._id
        }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$e2255cf6045e8d47), {
            src: `https://www.gravatar.com/avatar/${comment.owner?.gravatar}?d=monsterid`
        }), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$e93312b7773dfcac), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$b80b7c26588e0707), null, comment.owner?.name), "\u2022", /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$6341f9a885713487), null, (0, ($parcel$interopDefault($ddTib$dayjs)))(comment.createdAt).format("DD MMM YYYY - HH:mm"))), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$4b2c32e08f77ff18), null, comment.body, comment.secret && /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $8092f168c279c3c3$export$bfadae053a633538), {
            twoToneColor: "red",
            onClick: ()=>actions.removeComment(comment)
        }))))));
}





const $82ef6f7fd851377e$export$42a852a2b6b56249 = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  width: 100%;
  line-height: 1;
  font-size: 11px;
  padding: 8px 10px;
  text-align: right;
  letter-spacing: 0.5px;
  box-sizing: border-box;
  color: ${(props)=>props.theme.textColorSecondary};
`;
const $82ef6f7fd851377e$export$a6c7ac8248d6e38a = (0, ($parcel$interopDefault($ddTib$styledcomponents))).a`
  padding: 0 5px;
  color: #4c85f2;
  font-weight: 500;
  text-decoration: underline;
`;
const $82ef6f7fd851377e$export$51def8c33e56fa36 = (0, ($parcel$interopDefault($ddTib$styledcomponents)))((0, ($parcel$interopDefault($ddTib$antdesigniconsHeartFilled))))`
  color: #f42d2d;
`;



function $2717bedd4444abe5$export$2e2bcd8739ae039() {
    const { t: t } = (0, $ddTib$reacti18next.useTranslation)();
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $82ef6f7fd851377e$export$42a852a2b6b56249), null, t("POWERED_BY"), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $82ef6f7fd851377e$export$a6c7ac8248d6e38a), {
        href: "https://zoomment.com",
        target: "_blanck"
    }, "zoomment.com"), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $82ef6f7fd851377e$export$51def8c33e56fa36), null));
}




const $f9f01554333670c1$export$f61de6d8afd1908d = (0, ($parcel$interopDefault($ddTib$styledcomponents))).div`
  min-height: 50px;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
`;
const $f9f01554333670c1$export$fe1e68c940d4c8e = (0, ($parcel$interopDefault($ddTib$styledcomponents))).button`
  border: none;
  cursor: pointer;
  padding: 8px;
  margin: 4px;
  border-radius: 4px;
  font-size: 20px;
  user-select: none;
  line-height: 1;
  display: flex;
  align-items: center;
  color: ${(props)=>props.theme.textColor};
  background: ${(props)=>props.theme.inputBackground};

  &:hover {
    color: ${(props)=>props.theme.buttonColor};
    background: ${(props)=>props.theme.buttonBackground};
  }

  ${(props)=>props.$selected && `
      background: ${props.theme.buttonBackground};
      color: ${props.theme.buttonColor};
  `}
`;
const $f9f01554333670c1$export$7e76078c0b559b9b = (0, ($parcel$interopDefault($ddTib$styledcomponents))).span`
  padding-left: 4px;
  font-size: 16px;
`;



function $b3f647f0e388dcb0$var$ReactionsComponent({ emotions: emotions }) {
    const reactionsState = (0, $35d472cb9ee642ac$export$49a968b2b4de84a1)();
    const actions = (0, $35d472cb9ee642ac$export$2acf0ef90df99777)();
    const { aggregation: aggregation, userReaction: userReaction } = reactionsState?.reactions || {};
    const onReact = (0, $ddTib$react.useCallback)((reaction)=>actions.react(reaction), []);
    (0, $ddTib$react.useEffect)(()=>{
        actions.getReactions();
    }, []);
    return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $f9f01554333670c1$export$f61de6d8afd1908d), null, emotions.map((emotion, index)=>{
        const count = aggregation?.find((data)=>data._id === emotion)?.count;
        return /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $f9f01554333670c1$export$fe1e68c940d4c8e), {
            key: index,
            $selected: userReaction?.reaction === emotion,
            onClick: ()=>onReact(emotion)
        }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement("span", null, emotion), count && /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $f9f01554333670c1$export$7e76078c0b559b9b), null, count));
    }));
}
var $b3f647f0e388dcb0$export$2e2bcd8739ae039 = $b3f647f0e388dcb0$var$ReactionsComponent;


const $879dfff1aacb5259$export$ca7d531a4a7f3a34 = (str)=>{
    if (!str) return [];
    const array = String(str).split(",");
    const set = new Set(array.filter(Boolean));
    return Array.from(set);
};


const $4c8a53c26278ee12$var$commentsElement = document.getElementById("zoomment");
if ($4c8a53c26278ee12$var$commentsElement) {
    const theme = $4c8a53c26278ee12$var$commentsElement.getAttribute("data-theme");
    const language = $4c8a53c26278ee12$var$commentsElement.getAttribute("data-language");
    const emotions = (0, $879dfff1aacb5259$export$ca7d531a4a7f3a34)($4c8a53c26278ee12$var$commentsElement.getAttribute("data-emotions"));
    (0, ($parcel$interopDefault($ddTib$reactdom))).render(/*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $836658198f9e73bc$export$2e2bcd8739ae039), {
        theme: theme
    }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $cf1c6f9e2c9d2ede$export$2e2bcd8739ae039), {
        language: language
    }, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $ddfb67c622f02118$export$2e2bcd8739ae039), null, emotions.length > 0 && /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $35d472cb9ee642ac$export$2e2bcd8739ae039), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $b3f647f0e388dcb0$export$2e2bcd8739ae039), {
        emotions: emotions
    })), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $e00bfa5fa5449734$export$2e2bcd8739ae039), null, /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $7837e1bac463ede7$export$2e2bcd8739ae039), null), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $9f2ec6a7e39a8adc$export$2e2bcd8739ae039), null)), /*#__PURE__*/ (0, ($parcel$interopDefault($ddTib$react))).createElement((0, $2717bedd4444abe5$export$2e2bcd8739ae039), null)))), $4c8a53c26278ee12$var$commentsElement);
}
if (!$4c8a53c26278ee12$var$commentsElement) console.error("No comment section found. Please refer to documentation to include them https://github.com/zoomment/zoomment-widget .");


